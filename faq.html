<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SheCare - FAQ</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #7C4DFF;
      --secondary: #FF4081;
      --background: #f8f5fe;
      --text: #2A2A2A;
    }
    header {
      position: fixed;
      top: 0;
      width: 100%;
      background: #00286e;
      backdrop-filter: blur(10px);
      z-index: 1000;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }
    .logo-container {
      display: flex;
      justify-content: center;
      padding: 0;
    }
    .logo {
      width: 180px;
      transition: transform 0.3s ease;
    }
    .logo:hover {
      transform: rotate(-5deg) scale(1.05);
    }
    nav {
      padding: 1rem 2rem;
    }
    nav ul {
      display: flex;
      justify-content: center;
      gap: 2rem;
      list-style: none;
    }
    nav a {
      color: white;
      text-decoration: none;
      font-weight: 500;
      padding: 0.5rem 1rem;
      border-radius: 2rem;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    nav a:hover {
      background: rgba(124, 77, 255, 0.1);
      color: var(--primary);
      transform: translateY(-2px);
    }
    :root {
      --primary-color: #ff69b4;
      --secondary-color: #ff91c8;
      --text-color: #333;
      --bg-color: #fff;
      --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f9;
      color: #333;
    }
    /* Login Container Styles (Protected Feature) */
    .login-container {
      position: absolute;
      top: 20px;
      right: 20px;
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    .login-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 10px 20px;
      background: linear-gradient(135deg, #7C4DFF, #FF4081);
      color: white;
      text-decoration: none;
      border-radius: 30px;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(124, 77, 255, 0.3);
      gap: 10px;
    }
    .login-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 20px rgba(124, 77, 255, 0.4);
      background: linear-gradient(135deg, #FF4081, #7C4DFF);
    }
    .user-info {
      display: none;
      align-items: center;
      gap: 10px;
      background: rgba(124,77,255,0.2);
      padding: 10px 20px;
      border-radius: 30px;
      color: white;
    }
    .logout-btn {
      color: #FF4081;
      cursor: pointer;
      font-weight: 600;
      transition: color 0.3s ease;
    }
    .logout-btn:hover {
      color: #7C4DFF;
    }
    /* Question Form Section Styles */
    .drop-question {
      background: linear-gradient(135deg, #fff5f9, #fff);
      padding: 3rem 1rem;
      text-align: center;
      margin-bottom: 2rem;
    }
    .home-content {
      max-width: 800px;
      margin: 10rem auto 2rem;
    }
    .home-content h2 {
      color: var(--primary-color);
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }
    #questionForm {
      max-width: 600px;
      margin: 0 auto;
      background: white;
      padding: 2rem;
      border-radius: 15px;
      box-shadow: var(--shadow);
    }
    #questionForm label {
      display: block;
      text-align: left;
      margin-bottom: 0.5rem;
      color: var(--text-color);
      font-weight: 500;
    }
    #questionForm input,
    #questionForm textarea {
      width: 100%;
      padding: 1rem;
      margin-bottom: 1.5rem;
      border: 2px solid #eee;
      border-radius: 8px;
      font-size: 1rem;
      transition: border-color 0.3s ease;
    }
    #questionForm input:focus,
    #questionForm textarea:focus {
      border-color: var(--primary-color);
      outline: none;
    }
    .button {
      background-color: var(--primary-color);
      color: white;
      padding: 1rem 2rem;
      border: none;
      border-radius: 8px;
      font-size: 1.1rem;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    .button:hover {
      background-color: var(--secondary-color);
    }
    /* FAQ Section Styles */
    .content {
      max-width: 1000px;
      margin: 0 auto;
      padding: 2rem;
    }
    .content h2 {
      color: var(--primary-color);
      text-align: center;
      margin-bottom: 3rem;
      font-size: 2rem;
    }
    .faq-item {
      background: rgb(195, 189, 248);
      border-radius: 12px;
      margin-bottom: 1.5rem;
      box-shadow: var(--shadow);
      overflow: hidden;
      transition: transform 0.3s ease;
    }
    .faq-item:hover {
      transform: translateY(-2px);
    }
    .question {
      padding: 1.5rem;
      cursor: pointer;
      position: relative;
      font-size: 1.1rem;
      color: var(--text-color);
      display: flex;
      align-items: center;
      transition: background-color 0.3s ease;
    }
    .question::after {
      content: '+';
      position: absolute;
      right: 1.5rem;
      font-size: 1.5rem;
      transition: transform 0.3s ease;
    }
    .faq-item.expanded .question::after {
      transform: rotate(45deg);
    }
    .answer {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
      padding: 0 1.5rem;
    }
    .faq-item.expanded .answer {
      max-height: 500px;
      padding: 0 1.5rem 1.5rem;
    }
    .answer ul {
      list-style-position: inside;
      margin-top: 1rem;
    }
    .answer li {
      margin-bottom: 0.5rem;
    }
    @media (max-width: 768px) {
      .content {
        padding: 1rem;
      }
      .home-content h2 {
        font-size: 2rem;
      }
      #questionForm {
        padding: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <!-- Keeping original header and nav -->
  <header>
    <!-- Added Login Container for Protected Feature -->
    <div class="login-container">
      <a href="auth.html" class="login-btn" id="loginButton">
        <i class="fas fa-user"></i> Login / Sign Up
      </a>
      <div class="user-info" id="userInfo">
        <span id="userEmail"></span>
        <span class="logout-btn" id="logoutButton">Logout</span>
      </div>
    </div>
    <div class="logo-container">
      <img src="SheCareLogo1.jpg" alt="SheCare" class="logo">
    </div>
    <nav>
      <ul>
        <li><a href="index.html" class="protected-link"><i class="fas fa-home"></i>Home</a></li>
        <li><a href="https://shecare.onrender.com/" class="protected-link" target="_blank" rel="noopener noreferrer"><i class="fas fa-capsules"></i>PillPickr</a></li>
        <li><a href="faq.html"><i class="fas fa-question-circle"></i>FAQ</a></li>
        <li><a href="methods.html"><i class="fas fa-heartbeat"></i>Contraceptives</a></li>
        <li><a href="oc.html" class="protected-link"><i class="fas fa-calendar-alt"></i>Track Cycle</a></li>
        <li><a href="find_my_doctor.html" class="protected-link"><i class="fas fa-calendar-alt"></i>DocFinder</a></li>
        <li><a href="find_my_pharmacy.html" class="protected-link"><i class="fas fa-calendar-alt"></i>FindPharm</a></li>
        <li><a href="bot.html" class="protected-link"><i class="fas fa-comments"></i>HerBot</a></li>
        <li><a href="https://santos21978.softr.app/" class="protected-link" target="_blank"><i class="fas fa-users"></i>Forum</a></li>
      </ul>
    </nav>
  </header>

  <section class="drop-question">
    <div class="home-content">
      <h2>Have a Question?</h2>
      <p>Drop your question below and our experts will get back to you!</p>
    </div>
    <!-- The question form now only contains the question text. -->
    <form id="questionForm">
      <label for="question">Your Question:</label>
      <textarea id="question" name="question" rows="5" placeholder="Type your question here..." required></textarea>
      <button type="submit" class="button protected">Submit Question</button>
    </form>
    <p id="success-message" style="display: none; color: green;">Question submitted successfully!</p>
  </section>

  <div class="content">
    <h2>Frequently Asked Questions About Contraceptive Methods</h2>
    
    <div class="faq-item">
        <h3 class="question">What are the different types of contraceptive methods?</h3>
        <div class="answer">
            <p>There are several types of contraceptive methods, including:</p>
            <ul>
                <li>Barrier methods (e.g., condoms, diaphragms)</li>
                <li>Hormonal methods (e.g., birth control pills, patches, injections)</li>
                <li>Long-acting reversible contraception (e.g., intrauterine devices (IUDs), implants)</li>
                <li>Sterilization (e.g., tubal ligation, vasectomy)</li>
                <li>Fertility awareness methods (e.g., tracking menstrual cycles, temperature monitoring)</li>
                <li>Emergency contraception (e.g., morning-after pill)</li>
            </ul>
        </div>
    </div>

    <div class="faq-item">
        <h3 class="question">How effective are contraceptive methods?</h3>
        <div class="answer">
            <p>The effectiveness of contraceptive methods varies. Some methods, such as hormonal implants and IUDs, are more than 99% effective when used correctly. Other methods, like condoms, are less effective but still provide significant protection when used consistently and correctly.</p>
        </div>
    </div>

    <div class="faq-item">
        <h3 class="question">Are there any side effects associated with contraceptive methods?</h3>
        <div class="answer">
            <p>Yes, contraceptive methods may have side effects. These can vary depending on the method and individual factors. Common side effects include changes in menstrual bleeding, headaches, nausea, breast tenderness, and mood changes. It's important to discuss potential side effects with a healthcare provider when considering contraceptive options.</p>
        </div>
    </div>

    <div class="faq-item">
        <h3 class="question">Can I switch contraceptive methods if I'm not happy with my current one?</h3>
        <div class="answer">
            <p>Yes, you can switch contraceptive methods if you're not satisfied with your current one. It's important to discuss any concerns or issues you have with your healthcare provider. They can help you explore other options that may better suit your needs and preferences.</p>
        </div>
    </div>

    <div class="faq-item">
        <h3 class="question">How soon after giving birth can I start using contraception?</h3>
        <div class="answer">
            <p>It's generally safe to start using contraception immediately after giving birth, although the recommended method may vary depending on individual circumstances. Barrier methods like condoms can be used right away, while hormonal methods may need to be delayed for a few weeks. It's best to consult with your healthcare provider for personalized advice.</p>
        </div>
    </div>

    <div class="faq-item">
        <h3 class="question">Are contraceptive methods reversible?</h3>
        <div class="answer">
            <p>Most contraceptive methods are reversible, meaning fertility returns to normal after discontinuation. For example, hormonal methods like birth control pills and implants can be stopped, and fertility typically resumes within a few menstrual cycles. However, some methods like sterilization may be permanent. It's important to discuss the reversibility of each method with your healthcare provider.</p>
        </div>
    </div>

    <div class="faq-item">
        <h3 class="question">Do contraceptive methods protect against sexually transmitted infections (STIs)?</h3>
        <div class="answer">
            <p>No, most contraceptive methods do not provide protection against STIs. Only barrier methods like condoms offer dual protection against both pregnancy and STIs by creating a physical barrier between partners. It's essential to use condoms consistently and correctly to reduce the risk of STI transmission.</p>
        </div>
    </div>

</div>


  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // FAQ Accordion functionality
      const questions = document.querySelectorAll('.question');
      questions.forEach(question => {
        question.addEventListener('click', () => {
          const faqItem = question.parentNode;
          // Close all other expanded items
          document.querySelectorAll('.faq-item.expanded').forEach(item => {
            if (item !== faqItem) {
              item.classList.remove('expanded');
            }
          });
          // Toggle current item
          faqItem.classList.toggle('expanded');
        });
      });

      // Form submission handling will be done in the module below.
      const form = document.getElementById('questionForm');
      const successMessage = document.getElementById('success-message');
      
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        // The Firestore save is handled in the module script below.
      });
    });
  </script>

  <!-- Protected Feature Script -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const loginBtn = document.getElementById('loginButton');
      const userInfo = document.getElementById('userInfo');
      const userEmail = document.getElementById('userEmail');
      const logoutBtn = document.getElementById('logoutButton');
      const protectedElements = document.querySelectorAll('.protected-link, .button.protected');

      function checkAuth() {
        const isLoggedIn = sessionStorage.getItem('isLoggedIn');
        const storedEmail = sessionStorage.getItem('userEmail');
        if (isLoggedIn && storedEmail) {
          loginBtn.style.display = 'none';
          userInfo.style.display = 'flex';
          userEmail.textContent = storedEmail;
        } else {
          loginBtn.style.display = 'inline-flex';
          userInfo.style.display = 'none';
        }
      }

      logoutBtn.addEventListener('click', function () {
        sessionStorage.removeItem('isLoggedIn');
        sessionStorage.removeItem('userEmail');
        checkAuth();
        window.location.reload();
      });

      protectedElements.forEach(element => {
        element.addEventListener('click', function(e) {
          if (!sessionStorage.getItem('isLoggedIn')) {
            e.preventDefault();
            alert('Please login to access this feature');
            window.location.href = 'auth.html';
          }
        });
      });

      checkAuth();
    });
  </script>

  <!-- Module Script: Save Question to Firestore -->
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { getFirestore, collection, addDoc, serverTimestamp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
    import { getAuth } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';

    const firebaseConfig = {
      apiKey: "AIzaSyBM14aLNNFjiMPY1Fa-wsP1LydYzpEB2Jc",
      authDomain: "shecare-f2707.firebaseapp.com",
      projectId: "shecare-f2707",
      storageBucket: "shecare-f2707.appspot.com",
      messagingSenderId: "594871576314",
      appId: "1:594871576314:web:5a102e6e8d26b9c119cb43"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    const auth = getAuth(app);

    const form = document.getElementById('questionForm');
    const successMessage = document.getElementById('success-message');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const questionText = document.getElementById('question').value;
      
      // Get the currently logged-in user
      const user = auth.currentUser;
      if (!user) {
        alert("Please login to submit a question.");
        return;
      }
      
      try {
        // Save the question in the "questions" collection
        await addDoc(collection(db, 'questions'), {
          userId: user.uid,
          email: user.email,
          question: questionText,
          createdAt: serverTimestamp()
        });
        successMessage.style.display = 'block';
        form.reset();
        setTimeout(() => {
          successMessage.style.display = 'none';
        }, 3000);
      } catch (error) {
        console.error("Error submitting question:", error);
        alert("Error submitting question. Please try again.");
      }
    });
  </script>
</body>
</html>
